<div class="header">
    <h1 class="titleTable">Customers</h1>

    <mat-form-field class="headerTable" appearance="outline">
        <mat-label>Customer Name</mat-label>
        <input matInput [formControl]="searchControl" placeholder="Customer Name">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
</div>

<table class="salesTable" mat-table [dataSource]="dataSource" matSort>

    <ng-container matColumnDef="CustomerName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Customer Name</th>
        <td mat-cell *matCellDef="let customer">{{ customer.CustomerName }}</td>
    </ng-container>

    <ng-container matColumnDef="LastOrderDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Order Date</th>
        <td mat-cell *matCellDef="let customer">{{ customer.LastOrderDate }}</td>
    </ng-container>

    <ng-container matColumnDef="NextPredictedOrderDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Next Predicted Order Date</th>
        <td mat-cell *matCellDef="let customer">{{ customer.NextPredictedOrderDate }}</td>
    </ng-container>

    <ng-container matColumnDef="ViewOrdersButton">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let customer">
            <button mat-icon-button class="btn view-orders" (click)="openViewOrdersModal(customer)">
                VIEW ORDERS
            </button>
        </td>
    </ng-container>
    
    <ng-container matColumnDef="NewOrderButton">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let customer">
            <button mat-icon-button class="btn new-order" (click)="openNewOrder(customer)">
                NEW ORDER
            </button>
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>